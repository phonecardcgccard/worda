// index.html
<!DOCTYPE html>   <！DOCTYPE html>
<html   超文本标记语言 lang   只="en"   " ' ">
<head   头>
  <meta   元 charset   字符集="UTF-8"   “utf - 8” />
  <meta   元 name   名字="viewport"   “视口” content   内容="width=device-width, initial-scale=1.0"“宽度=设备宽度,初始= 1.0” />
  迷你填字游戏<
><title   标题>Mini Crossword Puzzle</n></title   标题>
     < >风格<style   风格>
    font-family: Arial, sans-serif；显示:flex;flex-direction:列;对齐项目:中心;保证金:0;填充:20 px;}body   身体 { font-family   字体类型: Arial, sans-serif; display: flex; flex-direction: column; align-items: center; margin: 0; padding   填充: 20px; }   好
    ##board{显示：网格；Grid-template-columns: repeat(4,100px)；差距:10 px;margin-top: 20 px;}board   董事会 { display   显示: grid; grid-template-columns: repeat(4, 100px); gap   差距: 10px; margin-top: 20px; }   好
    .cell   细胞 { width   宽度: 100px; height: 100px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 24px; }   好
    ..matched {background: #8bc34a；颜色:# fff;光标:违约;}matched   匹配 { background   背景: #8bc34a; color: #fff; cursor: default; }   好
     > < /风格</style   风格>
</head>   > < /头
<body   身体>
  迷你填字游戏<h1>Mini Crossword Puzzle</h1>
     < div id = "板" > < / div ><div id="board"   “董事会”></div>
  <script   脚本 type="module"   “模块” src="main.js" defer></script   脚本>
</body>
</html>

// state.js
export const initialState = {
  board: [],      // array of lettersBoard:[]， //字符数组
  flipped: [],    // indices of flipped cards[]， //翻转牌的索引
  matched: []     // indices of matched cardsMatched:[] //匹配牌的索引
};

export function reducer(state   状态, action   行动) {
  switch (action.type) {   Switch (action.type) {
    case 'INIT':   例“INIT”:
      return { ...state, board: action.payload, flipped   翻: [], matched: [] };
    case 'FLIP':   例“翻转”:
      if (state.flipped.includes(action.index) || state   状态.matched.includes(action   行动.index)) return state   状态;
      return { ...state, flipped: [...state   状态.flipped   翻, action   行动.index] };
    case 'CHECK':   例“检查”:
      const [i, j] = state.flipped;Const   常量 [i   我, j] = state   状态.flipped；   翻转;
      if (state.board[i] === state.board[j]) {如果状态。[i   我] === state   状态.board   董事会[j]) {
        return { ...state, matched: [...state   状态.matched, i, j], flipped   翻: [] };
      } else {
        return { ...state, flipped: [] };
      }
    default:   默认值:
      return state   状态;
                                             }   好
}   好

// ui.js
export function renderBoard(state   状态, dispatch   调度) {
  const boardEl = document.getElementById('board');const   常量 boardEl = document   文档.getElementById('board')；
  boardEl.innerHTML = '';
  state.board   董事会.forEach((letter, idx) => {
    const cell = document.createElement('div');
    cell.className = 'cell';   细胞。className = 'cell'；
    if (state.matched.includes(idx)) cell.classList.add('matched');
    cell.textContent = state   状态.flipped   翻.includes(idx) || state.matched.includes(idx) ? letter : '';
    cell.dataset.index = idx;   Cell.dataset   数据集.index   指数 = idx；
    cell.addEventListener('click', () => dispatch   调度({ type: 'FLIP'   “翻转”, index: idx }));
    boardEl.appendChild(cell);boardEl.appendChild(细胞);
  });
}   好

// game.js
export function generateBoard() {
  const letters = ['A','B','C'   “C”,'D','A','B','C','D'];
  // shuffle   / /洗牌
  for (let i = letters.length - 1; i > 0; i--) {对于（设I =字母）长度- 1；I b> 0；我——){
    const j = Math.floor(Math.random() * (i + 1));const   常量 j = Math   数学.floor(Math   数学.random() * (i   我 1))；
    [letters[i], letters[j]] = [letters   信[j], letters   信[i]];
  }
  return letters   信;   回信；
}   好

// main.js
import { initialState, reducer } from './state.js';从‘./state   状态.js’中导入{initialState， reducer   减速机}   好；
import { renderBoard } from './ui.js';从‘./ui.js’中导入{renderBoard}；
import { generateBoard } from './game.js';导入{generateBoard}从‘./game.js’；

let state = initialState;   let state = initialState；

function dispatch(action) {函数调度（action） {
  state = reducer(state, action);State = reducer   减速机(State   状态, action   行动)；
  renderBoard(state, dispatch);renderBoard(状态,派遣);
  if (action.type === 'FLIP' && state.flipped.length === 2) {如果行动。type === 'FLIP' && state.flipped.length === 2) {
    setTimeout(() => dispatch({ type: 'CHECK' }), 1000);setTimeout(() => dispatch({type: 'CHECK'}), 1000)；
  }
}   好

document.addEventListener('DOMContentLoaded', () => {文件中。addEventListener(' DOMContentLoadd ', () => {
  const board = generateBoard();const board = generateBoard()；
  dispatch({ type   类型: 'INIT', payload: board }   好);
}   好);


  
